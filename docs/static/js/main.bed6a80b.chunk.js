(this.webpackJsonpnotesapp=this.webpackJsonpnotesapp||[]).push([[0],{239:function(e,t,n){},242:function(e,t,n){},247:function(e,t){},381:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),o=n(49),a=n.n(o),i=(n(239),n(47)),s=n.n(i),u=n(71),d=n(7),p=n(9),l=n(24),b=n(3),j=n(198),O=(n(241),n(415)),m=n(413),f=n(414),h=n(224),x=n(417),v=(n(242),n(15)),N=Object(O.a)(),y={notes:[],sorting:"AZ",loading:!0,error:!1,form:{name:"",description:""}},T={container:{padding:20},input:{marginBottom:10},item:{textAlign:"left"},p:{color:"#1890ff"}},g=function(e,t){switch(t.type){case"SET_NOTES":return Object(b.a)(Object(b.a)({},e),{},{notes:t.notes,loading:!1});case"ADD_NOTE":return Object(b.a)(Object(b.a)({},e),{},{notes:[t.note].concat(Object(l.a)(e.notes))});case"RESET_FORM":case"RESET_FORM":return Object(b.a)(Object(b.a)({},e),{},{form:y.form});case"SET_INPUT":case"SET_INPUT":return Object(b.a)(Object(b.a)({},e),{},{form:Object(b.a)(Object(b.a)({},e.form),{},Object(p.a)({},t.name,t.value))});case"UPDATE_NOTE":var n=e.notes.findIndex((function(e){return e.id===t.note.id})),c=Object(l.a)(e.notes);return-1!==n&&(c[n]=t.note),Object(b.a)(Object(b.a)({},e),{},{notes:c});case"SORT_NOTES":var r,o;return"AZ"===e.sortedNote?(r="ZA",o=e.notes.sort((function(e,t){return e.name>t.name?1:-1}))):(r="AZ",o=e.notes.sort((function(e,t){return e.name<t.name?1:-1}))),Object(b.a)(Object(b.a)({},e),{},{notes:o,sortedNote:r});case"REMOVE_NOTE":var a=e.notes.findIndex((function(e){return e.id===t.id})),i=[].concat(Object(l.a)(e.notes.slice(0,a)),Object(l.a)(e.notes.slice(a+1)));return Object(b.a)(Object(b.a)({},e),{},{notes:i});case"ERROR":return Object(b.a)(Object(b.a)({},e),{},{loading:!1,error:!0});default:return Object(b.a)({},e)}},E=function(){var e=Object(c.useReducer)(g,y),t=Object(d.a)(e,2),n=t[0],r=t[1],o=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.graphql({query:"\n  query ListNotes(\n    $filter: ModelNoteFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listNotes(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        clientId\n        name\n        description\n        completed\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n"});case 3:t=e.sent,r({type:"SET_NOTES",notes:t.data.listNotes.items}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error: ",e.t0),r({type:"ERROR"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(u.a)(s.a.mark((function e(){var t,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=n.form).name&&t.description){e.next=3;break}return e.abrupt("return",alert("please enter a name and description"));case 3:return c=Object(b.a)(Object(b.a)({},t),{},{clientId:N,completed:!1,id:Object(O.a)()}),r({type:"ADD_NOTE",note:c}),r({type:"RESET_FORM"}),e.prev=7,e.next=10,j.a.graphql({query:"\n  mutation CreateNote(\n    $input: CreateNoteInput!\n    $condition: ModelNoteConditionInput\n  ) {\n    createNote(input: $input, condition: $condition) {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",variables:{input:c}});case 10:console.log("successfully created note!"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),console.log("error: ",e.t0);case 16:case 17:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.prev=1,e.next=4,j.a.graphql({query:"\n  mutation DeleteNote(\n    $input: DeleteNoteInput!\n    $condition: ModelNoteConditionInput\n  ) {\n    deleteNote(input: $input, condition: $condition) {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",variables:{input:{id:n}}});case 4:console.log("successfully deleted note!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(s.a.mark((function e(t){var c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.notes.findIndex((function(e){return e.id===t.id})),(o=Object(l.a)(n.notes))[c].completed=!t.completed,r({type:"SET_NOTES",notes:o}),e.prev=4,e.next=7,j.a.graphql({query:"\n  mutation UpdateNote(\n    $input: UpdateNoteInput!\n    $condition: ModelNoteConditionInput\n  ) {\n    updateNote(input: $input, condition: $condition) {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",variables:{input:{id:t.id,completed:o[c].completed}}});case 7:console.log("note successfully updated!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e){r({type:"SET_INPUT",name:e.target.name,value:e.target.value})};Object(c.useEffect)((function(){o();var e=j.a.graphql({query:"\n  subscription OnCreateNote {\n    onCreateNote {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n"}).subscribe({next:function(e){var t=e.value.data.onCreateNote;N!==t.clientId&&r({type:"ADD_NOTE",note:t})}}),t=j.a.graphql({query:"\n  subscription OnUpdateNote {\n    onUpdateNote {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n"}).subscribe({next:function(e){var t=e.value.data.onUpdateNote;r({type:"UPDATE_NOTE",note:t})}}),n=j.a.graphql({query:"\n  subscription OnDeleteNote {\n    onDeleteNote {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n"}).subscribe({next:function(e){var t=e.value.data.onDeleteNote.id;r({type:"REMOVE_NOTE",id:t})}});return function(){e.unsubscribe(),n.unsubscribe(),t.unsubscribe()}}),[]);return Object(v.jsxs)("div",{style:T.container,children:[Object(v.jsx)("h2",{children:"So much to do and so little time...might as well add another item!"}),Object(v.jsx)(f.a,{onChange:E,value:n.form.name,placeholder:"Note Name",name:"name",style:T.input}),Object(v.jsx)(f.a,{onChange:E,value:n.form.description,placeholder:"Note description",name:"description",style:T.input}),Object(v.jsx)(h.a,{onClick:a,type:"primary",children:"Create Note"}),Object(v.jsx)(h.a,{onClick:function(){r({type:"SORT_NOTES"})},type:"primary",children:"Sort Notes"}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("h3",{children:["I Love It When This Number Is Zero! aka # To-Dos Left = ",n.notes.filter((function(e){return!1===e.completed})).length," "]}),Object(v.jsxs)("h3",{children:["Total To-Dos = ",n.notes.length]})]}),Object(v.jsx)(m.b,{loading:n.loading,dataSource:n.notes,renderItem:function(e){return Object(v.jsxs)("div",{children:[Object(v.jsx)(m.b.Item,{style:T.item,actions:[Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Another Task Bites The Dust"}),Object(v.jsx)("p",{style:T.p,onClick:function(){return i(e)},children:"Click to Delete Me!"})]}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:"Click Me When Done To Make Me Smile!"}),Object(v.jsx)("input",{type:"checkbox",checked:!!e.completed,onChange:function(){return p(e)}}),",",Object(v.jsx)("p",{style:T.p,onClick:function(){return p(e)},children:e.completed?Object(v.jsx)(x.a,{}):null})]})],children:Object(v.jsx)(m.b.Item.Meta,{title:e.name,description:e.description})}),Object(v.jsx)("hr",{})]})}})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,418)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),o(e),a(e)}))},_={aws_project_region:"us-east-2",aws_appsync_graphqlEndpoint:"https://rsytzbqd2rezzeh4f6d7ors3rq.appsync-api.us-east-2.amazonaws.com/graphql",aws_appsync_region:"us-east-2",aws_appsync_authenticationType:"API_KEY",aws_appsync_apiKey:"da2-rsnw5cqko5dvnjlsfy5n35fn3m"};n(152).default.configure(_),a.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(E,{})}),document.getElementById("root")),I()}},[[381,1,2]]]);
//# sourceMappingURL=main.bed6a80b.chunk.js.map